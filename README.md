# Sector-Rotation-Strategy

A comprehensive implementation of sector rotation strategies for portfolio management and optimization.

## Project Overview

This project implements various sector rotation strategies to optimize portfolio allocation across different market sectors based on macroeconomic indicators, technical factors, and market trends. Sector rotation is a strategy that involves shifting investment allocations across different economic sectors to capitalize on changes in the business cycle.

The implementation includes:

- Data ingestion and preprocessing from raw portfolio and price data
- Feature engineering for macro and sector-specific indicators
- Multiple sector rotation strategy implementations
- Benchmark models for performance comparison
- Backtesting engine with comprehensive performance metrics
- Visualization tools for analyzing strategy performance

## Project Structure

```
sector_rotation_strategy/
│
├── data/
│   ├── raw/
│   │   ├── Portfolio.csv          # Portfolio holdings with sector information
│   │   └── Portfolio_prices.csv   # Historical price data for portfolio stocks
│   └── processed/                 # Processed data files generated by the pipeline
│
├── notebooks/
│   ├── 01_data_exploration.ipynb  # Initial data exploration and analysis
│   ├── 02_feature_engineering.ipynb # Feature development for strategies
│   ├── 03_sector_rotation_model.ipynb # Strategy implementation and testing
│   └── 04_backtesting.ipynb       # Backtesting and performance analysis
│
├── src/
│   ├── data/
│   │   ├── data_ingestion.py      # Data loading module
│   │   └── data_preprocessing.py  # Data cleaning and preprocessing
│   │
│   ├── features/
│   │   ├── macro_indicators.py    # Macroeconomic indicator generation
│   │   └── sector_indicators.py   # Sector-specific indicator generation
│   │
│   ├── models/
│   │   ├── sector_rotation.py     # Sector rotation strategy implementation
│   │   └── benchmark_model.py     # Benchmark models for comparison
│   │
│   └── backtesting/
│       ├── backtest_engine.py     # Backtesting framework
│       ├── performance_metrics.py # Performance evaluation metrics
│       └── visualization.py       # Visualization tools for analysis
│
├── reports/                       # Generated analysis reports and figures
│   ├── figures/                   # Visualization outputs
│   ├── sector_rotation_strategy_report.pdf # Final analysis report
│   └── backtest_results.csv       # Detailed backtest results
│
├── logs/                          # Log files from pipeline execution
├── README.md                      # Project documentation (this file)
├── requirements.txt               # Python dependencies
└── main.py                        # Main script to run the pipeline
```

## Implemented Strategies

### Sector Rotation Strategies

1. **Momentum Strategy** - Allocates to sectors with the strongest price momentum
2. **Relative Strength Strategy** - Selects sectors based on relative performance against the market
3. **Economic Cycle Strategy** - Rotates sectors based on the current economic cycle phase
4. **Combined Strategy** - Uses a weighted combination of multiple factors

### Benchmark Strategies

1. **Buy and Hold** - Static allocation based on initial portfolio weights
2. **Equal Weight** - Equal allocation across all sectors with periodic rebalancing
3. **Market Cap Weighted** - Allocation based on market capitalization with periodic rebalancing

## Installation

1. Clone this repository:
```bash
git clone https://github.com/aum2606/sector_rotation_strategy.git
cd sector_rotation_strategy
```

2. Create a virtual environment (optional but recommended):
```bash
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate
```

3. Install dependencies:
```bash
pip install -r requirements.txt
```

## Usage

### Running the Pipeline

The main script runs the entire pipeline from data ingestion to backtesting and analysis:

```bash
python main.py --start_date 2018-01-01 --end_date 2022-12-31 --generate_reports
```

### Command Line Arguments

- `--start_date`: Start date for backtest (YYYY-MM-DD)
- `--end_date`: End date for backtest (YYYY-MM-DD)
- `--strategies`: Strategies to run (momentum, relative_strength, economic_cycle, combined)
- `--benchmarks`: Benchmarks to run (buy_and_hold, equal_weight, market_cap)
- `--rebalance_frequency`: Rebalancing frequency (D, W, M, Q, Y)
- `--n_sectors`: Number of top sectors to invest in
- `--generate_reports`: Generate performance reports and visualizations

### Running Individual Components

You can also run individual components of the pipeline:

```python
# Data processing
from src.data.data_ingestion import DataIngestion
from src.data.data_preprocessing import DataPreprocessing

data_ingestion = DataIngestion()
data_preprocessing = DataPreprocessing(data_ingestion)
portfolio_df, prices_df, sector_df, macro_df = data_preprocessing.run_preprocessing_pipeline()

# Feature generation
from src.features.macro_indicators import MacroIndicators
from src.features.sector_indicators import SectorIndicators

macro_indicators = MacroIndicators()
macro_indicators_df = macro_indicators.generate_macro_features()

sector_indicators = SectorIndicators()
sector_indicators_df = sector_indicators.generate_sector_features()

# Strategy backtesting
from src.models.sector_rotation import SectorRotationModel

sector_rotation = SectorRotationModel()
results = sector_rotation.run_all_strategies()
```

## Performance Analysis

The project generates various performance metrics and visualizations:

- Cumulative returns and drawdowns
- Risk-adjusted metrics (Sharpe, Sortino, Calmar ratios)
- Rolling performance analysis
- Sector allocation over time
- Regime analysis across economic cycles
- Benchmark comparisons

## Requirements

- Python 3.7+
- pandas
- numpy
- matplotlib
- seaborn
- scipy

## License

This project is licensed under the GNU License - see the LICENSE file for details.

## Acknowledgments

- Data sources: Yahoo Finance, FRED, etc.
- Inspired by academic research on sector rotation strategies and business cycle investing
